{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kaust\\\\Desktop\\\\Solidity\\\\lotteryreact\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport web3 from './web3';\nimport lottery from './lottery';\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [players, setPlayers] = useState(0);\n  const [balance, setBalance] = useState(0);\n  const [manager, setManager] = useState('');\n  const [value, setValue] = useState(0);\n  const [message, setMessage] = useState('');\n  const [winMessage, setWinMessage] = useState('');\n  useEffect(() => {\n    const fetchPlayers = async () => {\n      const playerss = await lottery.methods.getPlayers().call();\n      setPlayers(playerss.length);\n    };\n\n    const fetchBalance = async () => {\n      const bal = await lottery.methods.getBalance().call();\n      const inEther = web3.utils.fromWei(bal, 'ether');\n      setBalance(inEther);\n    };\n\n    const fetchManager = async () => {\n      const man = await lottery.methods.manager().call();\n      setManager(man);\n    };\n\n    fetchPlayers();\n    fetchBalance();\n    fetchManager();\n  }, []);\n\n  const onSubmit = async event => {\n    event.preventDefault();\n    setMessage('Waiting for the transaction to get confirmed ');\n    const accounts = await web3.eth.getAccounts();\n    await lottery.methods.enter().send({\n      from: accounts[0],\n      value: web3.utils.toWei(value, 'ether')\n    });\n    setMessage('Kudos! You have entered the lottery');\n  };\n\n  const pickW = async () => {\n    const accounts = await web3.eth.getAccounts();\n    setWinMessage('We are picking a winner');\n    await lottery.methods.pickWinner().send({\n      from: accounts[0]\n    });\n    setWinMessage('Winner has been picked!');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: 'black'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: 'white'\n        },\n        children: \"Wanna get lucky? Enter into the lottery !!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          color: 'white'\n        },\n        children: [\"This contract is managed by \", manager]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          color: 'white'\n        },\n        children: [players, \" player(s) are competing to win \", balance, \" ether\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            color: 'white'\n          },\n          children: \"Enter the lottery \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: value,\n          onChange: event => setValue(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: 'white'\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: pickW,\n        children: \"Pick a Winner !\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: 'white'\n        },\n        children: winMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"s5NYjGbvgU2RbDdLifCHeMP2TeI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/kaust/Desktop/Solidity/lotteryreact/src/App.js"],"names":["web3","lottery","useState","useEffect","App","players","setPlayers","balance","setBalance","manager","setManager","value","setValue","message","setMessage","winMessage","setWinMessage","fetchPlayers","playerss","methods","getPlayers","call","length","fetchBalance","bal","getBalance","inEther","utils","fromWei","fetchManager","man","onSubmit","event","preventDefault","accounts","eth","getAccounts","enter","send","from","toWei","pickW","pickWinner","backgroundColor","display","flexDirection","justifyContent","alignItems","color","target"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport web3 from './web3'\nimport lottery from './lottery'\nimport {useState,useEffect} from 'react'\n\nfunction App() {\n\n  const [players, setPlayers] = useState(0) ;\n  const [balance,setBalance] = useState(0) ;\n  const [manager,setManager] = useState('') ;\n  const [value,setValue] = useState(0);\n  const [message,setMessage] = useState('');\n  const [winMessage,setWinMessage] = useState('');\n\n  useEffect(() =>{\n    const fetchPlayers = async () => {\n        const playerss = await lottery.methods.getPlayers().call() ;\n        setPlayers(playerss.length);\n    }\n\n    const fetchBalance = async () => {\n      const bal = await lottery.methods.getBalance().call() ;\n      const inEther = web3.utils.fromWei(bal,'ether') ;\n      setBalance(inEther);\n    }\n\n    const fetchManager = async () => {\n         const man = await lottery.methods.manager().call() ;\n         setManager(man) ;\n    }\n\n    fetchPlayers();\n    fetchBalance();\n    fetchManager();\n\n  },[])\n\n  const onSubmit = async (event) => {\n    event.preventDefault() ;\n\n    setMessage('Waiting for the transaction to get confirmed ') ;\n    const accounts = await web3.eth.getAccounts() ;\n\n    await lottery.methods.enter().send({from : accounts[0], value:web3.utils.toWei(value,'ether')});\n\n    setMessage('Kudos! You have entered the lottery') ;\n    \n  }\n\n  const pickW = async () => {\n    const accounts = await web3.eth.getAccounts() ;\n\n    setWinMessage('We are picking a winner') ;\n\n\n    await lottery.methods.pickWinner().send({from:accounts[0]}); \n\n    setWinMessage('Winner has been picked!') ;\n  }\n\n  return (\n    <div style={{backgroundColor:'black'}}>\n   <div style={{display:'flex',flexDirection:'column',justifyContent: 'center',alignItems: 'center'}}>\n     <h2 style={{color:'white'}}>Wanna get lucky? Enter into the lottery !!</h2>\n     <h4 style={{color:'white'}}>This contract is managed by {manager}</h4>\n     <h4 style={{color:'white'}}>{players} player(s) are competing to win {balance} ether</h4>\n     \n     <form onSubmit={onSubmit}>\n       <label style={{color:'white'}}>Enter the lottery </label>\n       <input value={value} onChange = {event => setValue(event.target.value)} />\n       <button>Submit</button>\n     </form>\n     <h3 style={{color:'white'}}>{message}</h3>\n  \n     \n     <button onClick={pickW}>Pick a Winner !</button>\n     <h3 style={{color:'white'}}>{winMessage}</h3>\n   </div>\n   </div>\n\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}