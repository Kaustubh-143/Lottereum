{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kaust\\\\Desktop\\\\Solidity\\\\lotteryreact\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport web3 from './web3';\nimport lottery from './lottery';\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [players, setPlayers] = useState(0);\n  const [balance, setBalance] = useState(0);\n  const [manager, setManager] = useState('');\n  const [value, setValue] = useState('');\n  const [message, setMessage] = useState('');\n  const [winMessage, setWinMessage] = useState('');\n  useEffect(() => {\n    const fetchPlayers = async () => {\n      const playerss = await lottery.methods.getPlayers().call();\n      setPlayers(playerss.length);\n    };\n\n    const fetchBalance = async () => {\n      const bal = await lottery.methods.getBalance().call();\n      const inEther = web3.utils.fromWei(bal, 'ether');\n      setBalance(inEther);\n    };\n\n    const fetchManager = async () => {\n      const man = await lottery.methods.manager().call();\n      setManager(man);\n    };\n\n    fetchPlayers();\n    fetchBalance();\n    fetchManager();\n  }, []);\n\n  const onSubmit = async event => {\n    event.preventDefault();\n    setMessage('Waiting for the transaction to get confirmed ');\n    const accounts = await web3.eth.getAccounts();\n    await lottery.methods.enter().send({\n      from: accounts[0],\n      value: web3.utils.toWei(value, 'ether')\n    });\n    setMessage('Kudos! You have entered the lottery');\n  };\n\n  const pickW = async () => {\n    const accounts = await web3.eth.getAccounts();\n    setWinMessage('We are picking a winner');\n    await lottery.methods.pickWinner().send({\n      from: accounts[0]\n    });\n    setWinMessage('Winner has been picked!');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: 'black'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: 750,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: 'white'\n        },\n        children: \"Wanna get lucky? Enter into the lottery !!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          color: 'white'\n        },\n        children: [\"This contract is managed by \", manager]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          color: 'white'\n        },\n        children: [players, \" player(s) are competing to win \", balance, \" ether\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#A32CC4',\n            borderRadius: 10,\n            borderColor: '#A32CC4',\n            borderWidth: 5,\n            width: 250\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              color: 'white',\n              fontWeight: 'bold',\n              padding: 45\n            },\n            children: \"Enter the lottery \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            borderRadius: 15,\n            height: 29,\n            width: 230,\n            fontWeight: 'bold'\n          },\n          placeholder: \"Enter the amount of ether\",\n          value: value,\n          onChange: event => setValue(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            backgroundColor: '#A32CC4',\n            borderRadius: 20,\n            padding: 9,\n            fontWeight: 'bold',\n            borderColor: '#A32CC4',\n            borderWidth: 3,\n            marginLeft: 10\n          },\n          children: \"I wanna enter !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: 'white'\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          backgroundColor: '#A32CC4',\n          borderRadius: 20,\n          padding: 9,\n          fontWeight: 'bold',\n          borderColor: '#A32CC4',\n          borderWidth: 3,\n          marginTop: 20\n        },\n        onClick: pickW,\n        children: \"Pick a Winner !\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: 'white'\n        },\n        children: winMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"edjO9lyzgfTeA0jVP4X9jZRFlus=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/kaust/Desktop/Solidity/lotteryreact/src/App.js"],"names":["web3","lottery","useState","useEffect","App","players","setPlayers","balance","setBalance","manager","setManager","value","setValue","message","setMessage","winMessage","setWinMessage","fetchPlayers","playerss","methods","getPlayers","call","length","fetchBalance","bal","getBalance","inEther","utils","fromWei","fetchManager","man","onSubmit","event","preventDefault","accounts","eth","getAccounts","enter","send","from","toWei","pickW","pickWinner","backgroundColor","height","display","flexDirection","justifyContent","alignItems","color","borderRadius","borderColor","borderWidth","width","fontWeight","padding","target","marginLeft","marginTop"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport web3 from './web3'\nimport lottery from './lottery'\nimport {useState,useEffect} from 'react'\n\nfunction App() {\n\n  const [players, setPlayers] = useState(0) ;\n  const [balance,setBalance] = useState(0) ;\n  const [manager,setManager] = useState('') ;\n  const [value,setValue] = useState('');\n  const [message,setMessage] = useState('');\n  const [winMessage,setWinMessage] = useState('');\n\n  useEffect(() =>{\n    const fetchPlayers = async () => {\n        const playerss = await lottery.methods.getPlayers().call() ;\n        setPlayers(playerss.length);\n    }\n\n    const fetchBalance = async () => {\n      const bal = await lottery.methods.getBalance().call() ;\n      const inEther = web3.utils.fromWei(bal,'ether') ;\n      setBalance(inEther);\n    }\n\n    const fetchManager = async () => {\n         const man = await lottery.methods.manager().call() ;\n         setManager(man) ;\n    }\n\n    fetchPlayers();\n    fetchBalance();\n    fetchManager();\n\n  },[])\n\n  const onSubmit = async (event) => {\n    event.preventDefault() ;\n\n    setMessage('Waiting for the transaction to get confirmed ') ;\n    const accounts = await web3.eth.getAccounts() ;\n\n    await lottery.methods.enter().send({from : accounts[0], value:web3.utils.toWei(value,'ether')});\n\n    setMessage('Kudos! You have entered the lottery') ;\n    \n  }\n\n  const pickW = async () => {\n    const accounts = await web3.eth.getAccounts() ;\n\n    setWinMessage('We are picking a winner') ;\n\n\n    await lottery.methods.pickWinner().send({from:accounts[0]}); \n\n    setWinMessage('Winner has been picked!') ;\n  }\n\n  return (\n    <div style={{backgroundColor:'black'}}>\n   <div style={{height:750,display:'flex',flexDirection:'column',justifyContent: 'center',alignItems: 'center'}}>\n     <h2 style={{color:'white'}}>Wanna get lucky? Enter into the lottery !!</h2>\n     <h4 style={{color:'white'}}>This contract is managed by {manager}</h4>\n     <h4 style={{color:'white'}}>{players} player(s) are competing to win {balance} ether</h4>\n     \n     <form onSubmit={onSubmit}>\n       <div style={{backgroundColor:'#A32CC4',borderRadius:10,borderColor:'#A32CC4',borderWidth:5,width:250}}>\n       <label style={{color:'white',fontWeight:'bold',padding:45}}>Enter the lottery </label>\n       </div>\n       <br/>\n       <input style={{borderRadius:15,height:29,width:230,fontWeight:'bold'}} placeholder='Enter the amount of ether' value={value} onChange = {event => setValue(event.target.value)} />\n       <button style={{backgroundColor:'#A32CC4',borderRadius:20,padding:9,fontWeight:'bold',borderColor:'#A32CC4',borderWidth:3,marginLeft:10}}>I wanna enter !</button>\n     </form>\n     <h3 style={{color:'white'}}>{message}</h3>\n  \n     \n     <button style={{backgroundColor:'#A32CC4',borderRadius:20,padding:9,fontWeight:'bold',borderColor:'#A32CC4',borderWidth:3,marginTop:20}} onClick={pickW}>Pick a Winner !</button>\n     <h3 style={{color:'white'}}>{winMessage}</h3>\n   </div>\n   </div>\n\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}