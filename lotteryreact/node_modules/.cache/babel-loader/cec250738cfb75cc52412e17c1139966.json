{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kaust\\\\Desktop\\\\Solidity\\\\lotteryreact\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport web3 from './web3';\nimport lottery from './lottery';\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [players, setPlayers] = useState(0);\n  const [balance, setBalance] = useState(0);\n  const [manager, setManager] = useState('');\n  const [value, setValue] = useState(0);\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    const fetchPlayers = async () => {\n      const playerss = await lottery.methods.getPlayers().call();\n      setPlayers(playerss.length);\n    };\n\n    const fetchBalance = async () => {\n      const bal = await lottery.methods.getBalance().call();\n      const inEther = web3.utils.fromWei(bal, 'ether');\n      setBalance(inEther);\n    };\n\n    const fetchManager = async () => {\n      const man = await lottery.methods.manager().call();\n      setManager(man);\n    };\n\n    fetchPlayers();\n    fetchBalance();\n    fetchManager();\n  }, []);\n\n  const onSubmit = async event => {\n    event.preventDefault();\n    setMessage('Waiting for the transaction to get confirmed ');\n    const accounts = await web3.eth.getAccounts();\n    await lottery.methods.enter().send({\n      from: accounts[0],\n      value: web3.utils.toWei(value, 'ether')\n    });\n    setMessage('Kudos! You have entered the lottery');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Wanna get lucky? Enter into the lottery !!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: [\"This contract is managed by \", manager]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: [players, \" players are competing to win \", balance, \" ether\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Enter the lottery \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: value,\n        onChange: event => setValue(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 4\n  }, this);\n}\n\n_s(App, \"QMvGWOa1SRc7BgcXX6MVK6XEg2E=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/kaust/Desktop/Solidity/lotteryreact/src/App.js"],"names":["web3","lottery","useState","useEffect","App","players","setPlayers","balance","setBalance","manager","setManager","value","setValue","message","setMessage","fetchPlayers","playerss","methods","getPlayers","call","length","fetchBalance","bal","getBalance","inEther","utils","fromWei","fetchManager","man","onSubmit","event","preventDefault","accounts","eth","getAccounts","enter","send","from","toWei","target"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport web3 from './web3'\nimport lottery from './lottery'\nimport {useState,useEffect} from 'react'\n\nfunction App() {\n\n  const [players, setPlayers] = useState(0) ;\n  const [balance,setBalance] = useState(0) ;\n  const [manager,setManager] = useState('') ;\n  const [value,setValue] = useState(0);\n  const [message,setMessage] = useState('');\n  \n\n\n  useEffect(() =>{\n    const fetchPlayers = async () => {\n        const playerss = await lottery.methods.getPlayers().call() ;\n        setPlayers(playerss.length);\n    }\n\n    const fetchBalance = async () => {\n      const bal = await lottery.methods.getBalance().call() ;\n      const inEther = web3.utils.fromWei(bal,'ether') ;\n      setBalance(inEther);\n    }\n\n    const fetchManager = async () => {\n         const man = await lottery.methods.manager().call() ;\n         setManager(man) ;\n    }\n\n    fetchPlayers();\n    fetchBalance();\n    fetchManager();\n\n  },[])\n\n  const onSubmit = async (event) => {\n    event.preventDefault() ;\n\n    setMessage('Waiting for the transaction to get confirmed ') ;\n    const accounts = await web3.eth.getAccounts() ;\n\n    await lottery.methods.enter().send({from : accounts[0], value:web3.utils.toWei(value,'ether')});\n\n    setMessage('Kudos! You have entered the lottery') ;\n    \n  }\n\n  return (\n   <div>\n     <h2>Wanna get lucky? Enter into the lottery !!</h2>\n     <h4>This contract is managed by {manager}</h4>\n     <h4>{players} players are competing to win {balance} ether</h4>\n     <hr></hr>\n     <form onSubmit={onSubmit}>\n       <label>Enter the lottery </label>\n       <input value={value} onChange = {event => setValue(event.target.value)} />\n       <button>Submit</button>\n     </form>\n     <h3>{message}</h3>\n   </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}